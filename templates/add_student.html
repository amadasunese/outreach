{% extends "base.html" %}

{% block title %}Add Student{% endblock %}

{% block content %}
<div class="container">
    <h1>Add Student</h1>
    <form method="POST">
        <label for="name">Name:</label><br>
        <input type="text" id="name" name="name" required><br><br>

        <label for="sex">Sex:</label><br>
        <select name="sex" id="sex">
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
        </select><br><br>

        <label for="age">Age:</label><br>
        <input type="number" id="age" name="age"><br><br>

        <label for="program_type">Program Type:</label><br>
        <select name="program_type" id="program_type" required>
            <option value="SCHOOL_OUTREACH">School Outreach</option>
            <option value="CENTER_MEETING">Center Meeting</option>
        </select><br><br>

        <div id="school_fields">  <label for="school_id">School:</label><br>
            <select name="school_id" id="school_id">
                <option value="">--Select School--</option>  {% for school in schools %}
                <option value="{{ school.id }}">{{ school.name }}</option>
                {% endfor %}
            </select><br><br>

            <label for="student_class">Class:</label><br>
            <input type="text" id="student_class" name="student_class"><br><br>
        </div>

        <div id="center_fields" style="display: none;">  <label for="center_year">Center Year:</label><br>
            <select name="center_year" id="center_year">
                <option value="">--Select Year--</option>
                <option value="1">Year 1</option>
                <option value="2">Year 2</option>
                <option value="3">Year 3</option>
            </select><br><br>
        </div>

        <label for="address">Address:</label><br>
        <input type="text" id="address" name="address"><br><br>

        <label for="phone">Phone:</label><br>
        <input type="text" id="phone" name="phone"><br><br>

        <label for="father_name">Father Name:</label><br>
        <input type="text" id="father_name" name="father_name"><br><br>

        <label for="father_occupation">Father Occupation:</label><br>
        <input type="text" id="father_occupation" name="father_occupation"><br><br>

        <label for="father_phone">Father Phone:</label><br>
        <input type="text" id="father_phone" name="father_phone"><br><br>

        <label for="mother_name">Mother Name:</label><br>
        <input type="text" id="mother_name" name="mother_name"><br><br>

        <label for="mother_occupation">Mother Occupation:</label><br>
        <input type="text" id="mother_occupation" name="mother_occupation"><br><br>

        <label for="mother_phone">Mother Phone:</label><br>
        <input type="text" id="mother_phone" name="mother_phone"><br><br>

        <label for="introduced_by">Introduced By:</label><br>
        <input type="text" id="introduced_by" name="introduced_by"><br><br>

        <label for="consent">Consent:</label><br>
        <input type="checkbox" id="consent" name="consent"><br><br>

        <input type="submit" value="Submit">
    </form>
    <a href="{{ url_for('auth.students') }}">Back to Students</a>
</div>

<script>
    const programTypeSelect = document.getElementById('program_type');
    const schoolFields = document.getElementById('school_fields');
    const centerFields = document.getElementById('center_fields');

    programTypeSelect.addEventListener('change', () => {
        if (programTypeSelect.value === 'SCHOOL_OUTREACH') {
            schoolFields.style.display = 'block';
            centerFields.style.display = 'none';
        } else if (programTypeSelect.value === 'CENTER_MEETING') {
            schoolFields.style.display = 'none';
            centerFields.style.display = 'block';
        }
    });
</script>

{% endblock %}